# 能力规范: 英雄数据多语言支持 (hero-data)

## 概述

实现英雄数据的多语言显示和管理，包括英雄名称、昵称、角色描述等的本地化处理，确保在不同语言环境下提供最佳的用户体验。

## ADDED Requirements

### Requirement: 英雄名称多语言显示
系统SHALL根据当前语言环境智能显示英雄的中英文名称，保持信息的一致性和可读性。

#### Scenario: 中文环境英雄名称显示
- **WHEN** 当前语言为中文(zh-CN)
- **AND** 显示任何英雄信息
- **THEN** 系统应优先显示中文名称，英文名作为补充显示

#### Scenario: 英文环境英雄名称显示
- **WHEN** 当前语言为英文(en-US)
- **AND** 显示任何英雄信息
- **THEN** 系统应显示英文名称，不显示中文名称

#### Scenario: 名称格式化显示
- **WHEN** 显示英雄卡片或列表
- **AND** 渲染英雄名称
- **THEN** 系统应按照当前语言环境的格式要求显示（中文：称号+姓名，英文：姓名）

### Requirement: 英雄昵称本地化处理
系统SHALL智能处理英雄昵称的显示逻辑，中文环境显示昵称增强本地化体验，英文环境隐藏昵称避免理解障碍。

#### Scenario: 中文环境昵称显示
- **WHEN** 当前语言为中文，英雄有昵称
- **AND** 显示英雄信息
- **THEN** 系统应在英雄名称下方或适当位置显示中文昵称

#### Scenario: 英文环境昵称隐藏
- **WHEN** 当前语言为英文
- **AND** 显示英雄信息
- **THEN** 系统不应显示中文昵称，避免英文用户理解困难

#### Scenario: 昵称格式和样式
- **WHEN** 需要显示昵称
- **AND** 渲染昵称文本
- **THEN** 系统应使用与主名称区分的样式（如较小字体、不同颜色）

### Requirement: 英雄角色多语言支持
系统SHALL为英雄的角色定位（Captain/Jungle/Carry）提供多语言显示，确保用户能够理解英雄的定位信息。

#### Scenario: 角色名称多语言
- **WHEN** 显示英雄角色分类
- **AND** 当前语言为英文
- **THEN** 系统应将Captain显示为Support，Jungle保持Jungle，Carry显示为Carry/Lane

#### Scenario: 角色描述多语言
- **WHEN** 显示角色详细描述
- **AND** 切换语言
- **THEN** 系统应使用对应语言的角色功能描述

#### Scenario: 分类筛选多语言
- **WHEN** 用户按角色筛选英雄
- **AND** 显示筛选选项
- **THEN** 系统应使用当前语言的筛选标签

### Requirement: 英雄攻击类型多语言
系统SHALL为英雄的攻击类型（近战/远程）提供多语言显示和描述。

#### Scenario: 攻击类型文本多语言
- **WHEN** 显示英雄攻击类型
- **AND** 当前语言为英文
- **THEN** 系统应将MELEE显示为Melee，RANGED显示为Ranged

#### Scenario: 攻击类型描述多语言
- **WHEN** 提供攻击类型说明
- **AND** 显示帮助信息
- **THEN** 系统应使用当前语言的描述文本

### Requirement: 英雄本地化数据管理
系统SHALL建立英雄本地化数据的管理系统，支持多语言数据的存储、加载和更新。

#### Scenario: 本地化数据加载
- **WHEN** 应用启动或语言切换
- **AND** 需要英雄本地化数据
- **THEN** 系统应异步加载对应语言的数据文件

#### Scenario: 数据缓存机制
- **WHEN** 已经加载过某种语言的英雄数据
- **AND** 再次需要相同语言的数据
- **THEN** 系统应从缓存中快速获取，避免重复加载

#### Scenario: 数据更新和同步
- **WHEN** 英雄数据发生更新
- **AND** 检测到数据变化
- **THEN** 系统应更新所有语言的本地化数据

### Requirement: HeroCard组件多语言适配
系统SHALL修改HeroCard组件以支持多语言显示，确保英雄信息在不同语言环境下正确展示。

#### Scenario: 英雄卡片名称显示
- **WHEN** 渲染HeroCard组件
- **AND** 当前语言变化
- **THEN** 系统应将卡片中的英雄名称立即更新为对应语言

#### Scenario: 昵称显示逻辑
- **WHEN** 英雄有昵称
- **AND** 在不同语言环境下显示
- **THEN** 系统应在中文环境显示昵称，英文环境隐藏昵称

#### Scenario: 卡片布局适应
- **WHEN** 不同语言的文本长度不同
- **AND** 渲染英雄卡片
- **THEN** 系统应自动适应卡片布局，保持美观和可读性

## MODIFIED Requirements

### Requirement: Hero数据结构扩展
系统SHALL扩展现有的Hero类型定义，添加多语言支持字段。

#### Scenario: 类型定义更新
- **WHEN** 现有的Hero接口
- **AND** 添加多语言支持
- **THEN** 系统应添加displayName、localizedNickname等字段

#### Scenario: 数据兼容性
- **WHEN** 现有的英雄数据
- **AND** 使用新的数据结构
- **THEN** 系统应保持向后兼容，不破坏现有功能

### Requirement: 英雄数据显示逻辑
系统SHALL修改现有的英雄数据显示逻辑，集成多语言处理机制。

#### Scenario: 显示逻辑更新
- **WHEN** 现有的parseHeroName函数
- **AND** 集成多语言支持
- **THEN** 系统应根据当前语言返回对应的显示格式

#### Scenario: 搜索逻辑适配
- **WHEN** 现有的英雄搜索功能
- **AND** 添加多语言支持
- **THEN** 系统应在对应语言的数据中执行搜索

---

**规范版本**: 1.0
**创建时间**: 2025-12-04
**负责人**: Claude AI Assistant