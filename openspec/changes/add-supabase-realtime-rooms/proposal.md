# Change: Add Supabase Real-time Room Collaboration

## Why
当前应用只支持本地存储的英雄选择，无法实现多人协作的 BP（Ban/Pick）功能。用户希望能够创建房间，与其他用户实时共享和同步 BP 详情，提升战术制定的协作体验。这将把单机工具转变为协作平台，大大扩展应用的使用场景。

## What Changes
- **集成 Supabase**: 作为后端服务，提供数据库、认证和实时同步功能
- **用户认证系统**: 支持用户登录注册，区分房间创建者和参与者
- **房间管理**: 创建房间、加入房间、房间列表展示
- **实时同步**: BP 状态的实时同步，多用户同时查看更新
- **权限控制**: 只有房间创建者可以编辑 BP，其他用户只读
- **双模式支持**: 保留本地使用版本，用户可在本地模式和在线模式间切换
- **数据迁移**: 从 localStorage 迁移到云端存储，保持向后兼容

**BREAKING**: 数据存储架构发生根本性变化，从纯前端应用转变为全栈应用。

## Impact
- **新增规格**:
  - `user-auth` - 用户认证和会话管理
  - `room-management` - 房间创建、加入和管理
  - `bp-sync` - BP 状态的实时同步和冲突处理
- **受影响代码**:
  - `App.tsx` - 主要组件需要重构以支持实时数据
  - `data/heroes.ts` - 数据层需要适配 Supabase 客户端
  - 新增 `services/` 目录下的 Supabase 集成服务
- **新增依赖**: Supabase JavaScript 客户端库
- **环境配置**: 需要配置 Supabase 项目 URL 和匿名密钥