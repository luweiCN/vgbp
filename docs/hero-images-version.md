# 英雄头像版本管理

## 概述
为了避免每次部署都重新下载相同的英雄头像，我们引入了图片版本管理系统。

## 工作原理
- 英雄头像 URL 包含版本参数：`https://vgbp.luwei.host/heroes/adagio.jpg?v=1.0.0`
- 相同版本的图片会被浏览器缓存，不会重新下载
- 只有在更新图片时才需要更新版本号

## 版本号管理
版本号定义在 `/data/heroes.ts` 文件中：

```typescript
const HERO_IMAGES_VERSION = '1.0.0';
```

## 何时更新版本号
**只有以下情况才需要更新版本号：**

1. **添加新英雄头像**
2. **更新现有英雄头像**
3. **修复头像图片问题**

**以下情况不需要更新版本号：**
- 仅仅更新应用代码
- 修复 bug
- 添加新功能
- 版本号升级（应用版本）

## 更新版本号的步骤

1. 修改 `/data/heroes.ts` 中的 `HERO_IMAGES_VERSION`
   ```typescript
   // 从 1.0.0 更新到 1.0.1
   const HERO_IMAGES_VERSION = '1.0.1';
   ```

2. 提交并部署代码

3. 部署后，用户会自动下载新版本的图片

## 版本号格式建议
- 主版本号：`1.0.0` - 大规模更新（如更换所有头像）
- 次版本号：`1.1.0` - 添加多个新头像
- 修订版本号：`1.0.1` - 修复或更新少量头像

## 注意事项
- 开发环境使用时间戳参数，确保每次刷新都获取最新图片
- 生产环境使用固定版本号，利用浏览器缓存
- 不要频繁更新版本号，避免不必要的 CDN 消耗

## CDN 带宽优化
通过这个系统，可以显著减少 Vercel CDN 的带宽使用：
- 相同版本的图片会被缓存
- 只有真正更新图片时才会重新下载
- 减少用户流量消耗